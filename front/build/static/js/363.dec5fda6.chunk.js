"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[363],{8913:(e,a,t)=>{t.d(a,{Z:()=>h});t(5043);var s=t(1e3),n=t(5865),r=t(2698),i=t(5475),o=t(9275),l=t(4681),d=t(579);const c=()=>(0,d.jsx)(s.A,{sx:{position:"absolute",bottom:"-1px",left:"0px",right:"0px",backgroundColor:"background.main",width:"100%",clipPath:"polygon(50% 62%, 100% 0, 100% 100%, 0 100%, 0 0)",height:"70px",zIndex:4}});var x=t(1137);const h=e=>{let{background:a,page:t}=e;const{t:h}=(0,x.Bd)();return(0,d.jsxs)(s.A,{sx:{background:"url(".concat(a,"), linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))"),backgroundBlendMode:"multiply",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",height:"80vh",width:"100%",position:"relative"},children:[(0,d.jsxs)(s.A,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textTransform:"capitalize",color:"text.therd"},children:[(0,d.jsxs)(n.A,{variant:"h2",sx:{pb:2},children:["  ",h("".concat(t))]}),(0,d.jsx)(s.A,{children:(0,d.jsxs)(r.A,{separator:(0,d.jsx)(l.A,{sx:{color:"text.therd"},fontSize:"medium"}),"aria-label":"breadcrumb",children:[(0,d.jsxs)(i.N_,{to:"/",style:{color:"#fff",textDecoration:"none",fontSize:"20px",fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,d.jsx)(o.A,{sx:{mr:.5},fontSize:"large"}),(0,d.jsx)(n.A,{variant:"h6",component:"span",children:h("Home")})]}),(0,d.jsx)(n.A,{sx:{display:"flex",alignItems:"center",fontSize:"20px",color:"text.therd"},children:h("".concat(t))})]})})]}),(0,d.jsx)(c,{})]})}},6309:(e,a,t)=>{t.r(a),t.d(a,{default:()=>V});var s=t(1e3),n=t(5043),r=t(8913),i=t(9379),o=t(45),l=t(4669),d=t(4056),c=t(9252),x=t(9336),h=t(3845),m=t(5865),p=t(5540),u=t(9722),g=t(1880),j=t(7653),A=t(579);const b={position:"absolute",top:"0px",left:"0px",width:"30px",height:"30px",background:"white",padding:"2px",borderRadius:"50%",border:"1px solid #064180",cursor:"pointer"},w=e=>{let{name:a,oldImage:t}=e;const[r,i]=(0,n.useState)(""),o=async e=>{try{const a=await u.A.post("https://booking-bus.onrender.com/uploadImage/",{image:e},{headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(g.A.get("token"))}});i(a.data.result.image)}catch(a){}};return(0,A.jsx)(s.A,{children:(0,A.jsx)("form",{children:(0,A.jsxs)(s.A,{sx:{py:2},children:[(0,A.jsx)("input",{type:"file",id:"image",name:"image",label:"image",style:{visibility:"hidden",width:"0px",height:"0px"},onChange:async e=>{const a=e.target.files[0],t=new FileReader;t.readAsDataURL(a),t.onloadend=async()=>{const e=t.result;e&&await o(e)}}}),(0,A.jsxs)(s.A,{sx:{display:"flex",justifyContent:"start",alignItems:"top"},children:[(0,A.jsxs)(s.A,{sx:{position:"relative",border:"1px solid text.main !important"},children:[(0,A.jsx)("img",{src:r||(t||j),alt:"profile",style:{width:"100px",height:"100px",borderRadius:"50%"}}),(0,A.jsx)("label",{htmlFor:"image",style:b,children:(0,A.jsx)(p.A,{sx:{color:"main"}})})]}),(0,A.jsx)(s.A,{children:(0,A.jsx)(m.A,{variant:"h4",sx:{pt:3,px:3,color:"text.main",textTransform:"capitalize"},children:a})})]})]})})})};var y=t(5691),f=t(3773),v=t(8903),N=t(4600),k=t(1906),C=t(3516);const S={password:"",newPassword:""},F=e=>{const a={};return e.password&&!e.password?a.password="Required":e.password&&e.password.length<6&&(a.password="Password must be at least 6 characters"),a},B=()=>{const[e,a]=n.useState(!1),[t,r]=n.useState({});return(0,A.jsx)(s.A,{children:(0,A.jsxs)(c.A,{maxWidth:"md",children:[(0,A.jsx)(y.A,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e,autoHideDuration:6e3,onClose:()=>a(!1),children:(0,A.jsx)(f.A,{sx:{backgroundColor:t.match?"green":"red"},message:t.message})}),(0,A.jsx)(C.l1,{initialValues:S,validate:F,onSubmit:async(e,t)=>{let{resetForm:s}=t;try{const t=await u.A.post("https://booking-bus.onrender.com/changePassword/",e,{headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(g.A.get("token"))}});s(),a(!0),r(t.data.result)}catch(n){}},children:e=>{let{errors:a,touched:t,handleChange:n,handleBlur:r,isSubmitting:i}=e;return(0,A.jsx)(C.lV,{children:(0,A.jsx)(s.A,{children:(0,A.jsxs)(v.Ay,{container:!0,spacing:2,sx:{py:5},children:[(0,A.jsx)(v.Ay,{item:!0,xs:12,children:(0,A.jsx)(C.D0,{as:N.A,fullWidth:!0,id:"password",name:"password",type:"password",label:"Current Password",onChange:n,onBlur:r,error:!(!t.password||!a.password),helperText:t.password&&a.password?a.password:""})}),(0,A.jsx)(v.Ay,{item:!0,xs:12,children:(0,A.jsx)(C.D0,{as:N.A,fullWidth:!0,id:"newPassword",name:"newPassword",type:"password",label:"New Password",onChange:n,onBlur:r,error:!(!t.newPassword||!a.newPassword),helperText:t.newPassword&&a.newPassword?a.newPassword:""})}),(0,A.jsx)(v.Ay,{item:!0,xs:12,children:(0,A.jsx)(k.A,{variant:"contained",color:"secondary",type:"submit",children:"Save"})})]})})})}})]})})};var L=t(1137);const P=e=>{const a={};return e.FName||(a.FName="Required"),e.LName||(a.LName="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",a},z=e=>{let{oldInformation:a}=e;const[t,r]=(0,n.useState)(""),{t:i}=(0,L.Bd)(),o={FName:t.FName?t.FName:a.FName,LName:t.LName?t.LName:a.LName,email:t.email?t.email:a.email};return(0,A.jsx)(c.A,{sx:{paddingY:"50px"},children:(0,A.jsx)(C.l1,{initialValues:o,validate:P,onSubmit:async(e,a)=>{let{setSubmitting:t}=a;try{const a=await u.A.post("https://booking-bus.onrender.com/updateInfo/",e,{headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(g.A.get("token"))}});r(a.data.result)}catch(s){}},children:e=>{let{values:a,errors:t,touched:n,handleChange:r,handleBlur:o,isSubmitting:l}=e;return(0,A.jsx)(C.lV,{children:(0,A.jsx)(s.A,{children:(0,A.jsxs)(v.Ay,{container:!0,spacing:2,children:[(0,A.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,A.jsx)(C.D0,{as:N.A,fullWidth:!0,id:"FName",name:"FName",value:a.FName,label:i("First Name"),onChange:r,onBlur:o,error:!(!n.FName||!t.FName),helperText:n.FName&&t.FName?t.FName:""})}),(0,A.jsx)(v.Ay,{item:!0,xs:12,sm:6,children:(0,A.jsx)(C.D0,{as:N.A,fullWidth:!0,id:"LName",name:"LName",label:i("Last Name"),onChange:r,onBlur:o,error:!(!n.LName||!t.LName),helperText:n.LName&&t.LName?t.LName:""})}),(0,A.jsx)(v.Ay,{item:!0,xs:12,children:(0,A.jsx)(C.D0,{as:N.A,fullWidth:!0,id:"email",name:"email",label:i("Email"),onChange:r,onBlur:o,error:!(!n.email||!t.email),helperText:n.email&&t.email?t.email:""})}),(0,A.jsxs)(v.Ay,{item:!0,xs:12,children:[(0,A.jsx)(k.A,{variant:"contained",color:"secondary",type:"submit",disabled:l||Object.keys(t).length>0,children:i("Save")})," "]})]})})})}})})};var I=t(8185),T=t(1045);const D=()=>(0,A.jsxs)(s.A,{children:[(0,A.jsxs)(s.A,{sx:{display:"flex",justifyContent:"start",alignItems:"top",mb:3},children:[(0,A.jsx)(I.A,{variant:"circular",width:100,height:100,mt:3,children:(0,A.jsx)(T.A,{})}),(0,A.jsx)(I.A,{variant:"rectangular",width:300,height:30,sx:{mt:3,ml:2}})]}),(0,A.jsx)(s.A,{sx:{mt:3,mb:3},children:(0,A.jsx)(I.A,{variant:"rectangular",sx:{width:["300px","400px","600px"]},height:50})}),(0,A.jsx)(s.A,{sx:{mt:3,mb:3},children:(0,A.jsx)(I.A,{variant:"rectangular",sx:{width:["300px","400px","600px"]},height:200})})]}),R=["children","value","index"];function W(e){const{children:a,value:t,index:n}=e,r=(0,o.A)(e,R);return(0,A.jsx)(s.A,(0,i.A)((0,i.A)({role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:t===n&&(0,A.jsx)(s.A,{sx:{p:3},children:(0,A.jsx)(s.A,{children:a})})}))}function Z(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function q(){const[e,a]=n.useState(!0),[t,r]=n.useState({}),{t:o}=(0,L.Bd)(),[m,p]=n.useState(0);return n.useEffect((()=>{g.A.get("token")&&(async()=>{try{const e=await u.A.post("https://booking-bus.onrender.com/getUser/",{},{headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(g.A.get("token"))}});r(e.data.result),a(!1)}catch(e){}})()}),[t.image]),(0,A.jsxs)(c.A,{maxWidth:"md",children:[(0,A.jsx)(x.A,{textAlign:"center",sx:{color:"main",py:3,width:["300px","500px"],margin:"auto"},children:(0,A.jsx)(h.A,{label:" Acount Settings",sx:{backgroundColor:"main",color:"text.main",fontWeight:"200",fontSize:"1.2rem"}})}),e?(0,A.jsx)(D,{}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(w,{name:"".concat(t.FName," ").concat(t.LName),oldImage:t.image}),(0,A.jsxs)(s.A,{sx:{width:"100%"},children:[(0,A.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,A.jsxs)(l.A,{value:m,onChange:(e,a)=>{p(a)},"aria-label":"basic tabs example",children:[(0,A.jsx)(d.A,(0,i.A)({label:o("Edit")},Z(0))),(0,A.jsx)(d.A,(0,i.A)({label:o("Edit Password")},Z(1)))]})}),(0,A.jsx)(W,{value:m,index:0,children:(0,A.jsx)(z,{oldInformation:t})}),(0,A.jsx)(W,{value:m,index:1,children:(0,A.jsx)(B,{})})]})]})]})}const E=t.p+"static/media/settings.dd597fab9e7e50d6d5d0.jpg",V=()=>(0,A.jsxs)(s.A,{children:[(0,A.jsx)(r.Z,{page:"Settings",background:E}),(0,A.jsx)(q,{})]})}}]);
//# sourceMappingURL=363.dec5fda6.chunk.js.map