"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[726],{1726:(e,i,t)=>{t.r(i),t.d(i,{default:()=>g});var n=t(5043),r=t(1e3),s=t(3516),a=t(1906),o=t(4600),c=t(9722),d=t(3216),l=t(1637),f=t(579);const u={verificationCode:""},h=e=>{const i={};return e.verificationCode||(i.verificationCode="Please enter verification Code"),i},v=()=>{const[e,i]=(0,n.useState)(!1),[t,v]=(0,n.useState)({verified:!1,message:""}),g=(0,d.Zp)();return(0,f.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#ffffff70"},children:(0,f.jsxs)(r.A,{children:[t.verified?(0,f.jsxs)(r.A,{children:[(0,f.jsx)("h1",{children:"Verification successful!"}),(0,f.jsx)("p",{children:"Congratulations! Your account has been verified."}),(0,f.jsx)(a.A,{variant:"contained",sx:{marginTop:"10px"},onClick:()=>g("/login"),children:"Return to Login Page"})]}):(0,f.jsx)(s.l1,{initialValues:u,onSubmit:(e,t)=>{let{resetForm:n}=t;i(!0);const r={verificationCode:e.verificationCode,user:JSON.parse(sessionStorage.getItem("user")),verification_code:sessionStorage.getItem("verification_code")};c.A.post("https://booking-bus.onrender.com/verification",r,{"content-type":"application/json"}).then((e=>{e.data.verification?setTimeout((()=>{v({verified:!0,message:""}),i(!1),n()}),1e3):(v({verified:!1,message:e.data.message}),setTimeout((()=>{i(!1)}),1e3))})).catch((e=>{v({verified:!1,message:"Error verifying the code. Please try again."}),i(!1)}))},validate:h,children:i=>{let{values:t,errors:n,touched:r,handleChange:c,handleBlur:d,isSubmitting:u,setFieldValue:h}=i;return(0,f.jsxs)(s.lV,{children:[(0,f.jsx)(o.A,{fullWidth:!0,id:"verificationCode",label:" verification Code",name:"verificationCode",value:t.verificationCode,onChange:c,onBlur:d,error:!(!r.verificationCode||!n.verificationCode),helperText:r.verificationCode&&n.verificationCode?n.verificationCode:""}),(0,f.jsx)(a.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:2},disabled:e,startIcon:e&&(0,f.jsx)(l.A,{size:20}),children:"Verify Email"})]})}}),t.message&&(0,f.jsx)(r.A,{children:(0,f.jsx)("h1",{children:"Verification failed!"})})]})})},g=()=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(v,{})})}}]);
//# sourceMappingURL=726.be558484.chunk.js.map