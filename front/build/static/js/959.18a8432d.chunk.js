"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[959],{959:(e,i,t)=>{t.r(i),t.d(i,{default:()=>g});var n=t(2791),r=t(8870),s=t(5705),o=t(6151),a=t(8550),c=t(1243),d=t(7689),l=t(3239),f=t(184);const u={verificationCode:""},h=e=>{const i={};return e.verificationCode||(i.verificationCode="Please enter verification Code"),i},v=()=>{const[e,i]=(0,n.useState)(!1),[t,v]=(0,n.useState)({verified:!1,message:""}),g=(0,d.s0)();return(0,f.jsx)(r.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#ffffff70"},children:(0,f.jsxs)(r.Z,{children:[t.verified?(0,f.jsxs)(r.Z,{children:[(0,f.jsx)("h1",{children:"Verification successful!"}),(0,f.jsx)("p",{children:"Congratulations! Your account has been verified."}),(0,f.jsx)(o.Z,{variant:"contained",sx:{marginTop:"10px"},onClick:()=>g("/login"),children:"Return to Login Page"})]}):(0,f.jsx)(s.J9,{initialValues:u,onSubmit:(e,t)=>{let{resetForm:n}=t;i(!0);const r={verificationCode:e.verificationCode,user:JSON.parse(sessionStorage.getItem("user")),verification_code:sessionStorage.getItem("verification_code")};c.Z.post("https://booking-bus.onrender.com/verification",r,{"content-type":"application/json"}).then((e=>{e.data.verification?setTimeout((()=>{v({verified:!0,message:""}),i(!1),n()}),1e3):(v({verified:!1,message:e.data.message}),setTimeout((()=>{i(!1)}),1e3))})).catch((e=>{console.log(e),v({verified:!1,message:"Error verifying the code. Please try again."}),i(!1)}))},validate:h,children:i=>{let{values:t,errors:n,touched:r,handleChange:c,handleBlur:d,isSubmitting:u,setFieldValue:h}=i;return(0,f.jsxs)(s.l0,{children:[(0,f.jsx)(a.Z,{fullWidth:!0,id:"verificationCode",label:" verification Code",name:"verificationCode",value:t.verificationCode,onChange:c,onBlur:d,error:!(!r.verificationCode||!n.verificationCode),helperText:r.verificationCode&&n.verificationCode?n.verificationCode:""}),(0,f.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:2},disabled:e,startIcon:e&&(0,f.jsx)(l.Z,{size:20}),children:"Verify Email"})]})}}),t.message&&(0,f.jsx)(r.Z,{children:(0,f.jsx)("h1",{children:"Verification failed!"})})]})})},g=()=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(v,{})})}}]);
//# sourceMappingURL=959.18a8432d.chunk.js.map