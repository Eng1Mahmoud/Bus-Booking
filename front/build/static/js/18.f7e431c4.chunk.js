"use strict";(self.webpackChunkbus=self.webpackChunkbus||[]).push([[18],{8420:(e,a,t)=>{t.d(a,{F:()=>h});t(2791);var s=t(8870),n=t(890),r=t(3517),i=t(1087),o=t(2392),l=t(4081),d=t(184);const c=()=>(0,d.jsx)(s.Z,{sx:{position:"absolute",bottom:"-1px",left:"0px",right:"0px",backgroundColor:"background.main",width:"100%",clipPath:"polygon(50% 62%, 100% 0, 100% 100%, 0 100%, 0 0)",height:"70px",zIndex:4}});var x=t(8366);const h=e=>{let{background:a,page:t}=e;const{t:h}=(0,x.$G)();return(0,d.jsxs)(s.Z,{sx:{background:"url(".concat(a,"), linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))"),backgroundBlendMode:"multiply",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",height:"80vh",width:"100%",position:"relative"},children:[(0,d.jsxs)(s.Z,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textTransform:"capitalize",color:"text.therd"},children:[(0,d.jsxs)(n.Z,{variant:"h2",sx:{pb:2},children:["  ",h("".concat(t))]}),(0,d.jsx)(s.Z,{children:(0,d.jsxs)(r.Z,{separator:(0,d.jsx)(l.Z,{sx:{color:"text.therd"},fontSize:"medium"}),"aria-label":"breadcrumb",children:[(0,d.jsxs)(i.rU,{to:"/",style:{color:"#fff",textDecoration:"none",fontSize:"20px",fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,d.jsx)(o.Z,{sx:{mr:.5},fontSize:"large"}),(0,d.jsx)(n.Z,{variant:"h6",component:"span",children:h("Home")})]}),(0,d.jsx)(n.Z,{sx:{display:"flex",alignItems:"center",fontSize:"20px",color:"text.therd"},children:h("".concat(t))})]})})]}),(0,d.jsx)(c,{})]})}},2393:(e,a,t)=>{t.r(a),t.d(a,{default:()=>q});var s=t(8870),n=t(2791),r=t(8420),i=t(5228),o=t(3896),l=t(1614),d=t(4721),c=t(1918),x=t(890),h=t(1286),m=t(1243),p=t(8329),u=t(4254),g=t(184);const j={position:"absolute",top:"0px",left:"0px",width:"30px",height:"30px",background:"white",padding:"2px",borderRadius:"50%",border:"1px solid #064180",cursor:"pointer"},b=e=>{let{name:a,oldImage:t}=e;const[r,i]=(0,n.useState)(""),o=async e=>{try{const a=await m.Z.post("https://booking-bus.onrender.com/uploadImage/",{image:e},{headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(p.Z.get("token"))}});i(a.data.result.image)}catch(a){console.log(a)}};return(0,g.jsx)(s.Z,{children:(0,g.jsx)("form",{children:(0,g.jsxs)(s.Z,{sx:{py:2},children:[(0,g.jsx)("input",{type:"file",id:"image",name:"image",label:"image",style:{visibility:"hidden",width:"0px",height:"0px"},onChange:async e=>{const a=e.target.files[0],t=new FileReader;t.readAsDataURL(a),t.onloadend=async()=>{const e=t.result;e&&await o(e)}}}),(0,g.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"start",alignItems:"top"},children:[(0,g.jsxs)(s.Z,{sx:{position:"relative",border:"1px solid text.main !important"},children:[(0,g.jsx)("img",{src:r||(t||u),alt:"profile",style:{width:"100px",height:"100px",borderRadius:"50%"}}),(0,g.jsx)("label",{htmlFor:"image",style:j,children:(0,g.jsx)(h.Z,{sx:{color:"main"}})})]}),(0,g.jsx)(s.Z,{children:(0,g.jsx)(x.Z,{variant:"h4",sx:{pt:3,px:3,color:"text.main",textTransform:"capitalize"},children:a})})]})]})})})};var Z=t(8158),w=t(6300),f=t(1889),y=t(8550),N=t(6151),v=t(5705);const k={password:"",newPassword:""},C=e=>{const a={};return e.password&&!e.password?a.password="Required":e.password&&e.password.length<6&&(a.password="Password must be at least 6 characters"),a},P=()=>{const[e,a]=n.useState(!1),[t,r]=n.useState({});return(0,g.jsx)(s.Z,{children:(0,g.jsxs)(l.Z,{maxWidth:"md",children:[(0,g.jsx)(Z.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e,autoHideDuration:6e3,onClose:()=>a(!1),children:(0,g.jsx)(w.Z,{sx:{backgroundColor:t.match?"green":"red"},message:t.message})}),(0,g.jsx)(v.J9,{initialValues:k,validate:C,onSubmit:async(e,t)=>{let{resetForm:s}=t;try{const t=await m.Z.post("https://booking-bus.onrender.com/changePassword/",e,{headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(p.Z.get("token"))}});s(),a(!0),r(t.data.result)}catch(n){console.log(n)}},children:e=>{let{errors:a,touched:t,handleChange:n,handleBlur:r,isSubmitting:i}=e;return(0,g.jsx)(v.l0,{children:(0,g.jsx)(s.Z,{children:(0,g.jsxs)(f.ZP,{container:!0,spacing:2,sx:{py:5},children:[(0,g.jsx)(f.ZP,{item:!0,xs:12,children:(0,g.jsx)(v.gN,{as:y.Z,fullWidth:!0,id:"password",name:"password",type:"password",label:"Current Password",onChange:n,onBlur:r,error:!(!t.password||!a.password),helperText:t.password&&a.password?a.password:""})}),(0,g.jsx)(f.ZP,{item:!0,xs:12,children:(0,g.jsx)(v.gN,{as:y.Z,fullWidth:!0,id:"newPassword",name:"newPassword",type:"password",label:"New Password",onChange:n,onBlur:r,error:!(!t.newPassword||!a.newPassword),helperText:t.newPassword&&a.newPassword?a.newPassword:""})}),(0,g.jsx)(f.ZP,{item:!0,xs:12,children:(0,g.jsx)(N.Z,{variant:"contained",color:"secondary",type:"submit",children:"Save"})})]})})})}})]})})};var F=t(8366);const S=e=>{const a={};return e.FName||(a.FName="Required"),e.LName||(a.LName="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",a},L=e=>{let{oldInformation:a}=e;const[t,r]=(0,n.useState)(""),{t:i}=(0,F.$G)(),o={FName:t.FName?t.FName:a.FName,LName:t.LName?t.LName:a.LName,email:t.email?t.email:a.email};return(0,g.jsx)(l.Z,{sx:{paddingY:"50px"},children:(0,g.jsx)(v.J9,{initialValues:o,validate:S,onSubmit:async(e,a)=>{let{setSubmitting:t}=a;try{const a=await m.Z.post("https://booking-bus.onrender.com/updateInfo/",e,{headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(p.Z.get("token"))}});r(a.data.result)}catch(s){console.log(s)}},children:e=>{let{values:a,errors:t,touched:n,handleChange:r,handleBlur:o,isSubmitting:l}=e;return(0,g.jsx)(v.l0,{children:(0,g.jsx)(s.Z,{children:(0,g.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,g.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,g.jsx)(v.gN,{as:y.Z,fullWidth:!0,id:"FName",name:"FName",value:a.FName,label:i("First Name"),onChange:r,onBlur:o,error:!(!n.FName||!t.FName),helperText:n.FName&&t.FName?t.FName:""})}),(0,g.jsx)(f.ZP,{item:!0,xs:12,sm:6,children:(0,g.jsx)(v.gN,{as:y.Z,fullWidth:!0,id:"LName",name:"LName",label:i("Last Name"),onChange:r,onBlur:o,error:!(!n.LName||!t.LName),helperText:n.LName&&t.LName?t.LName:""})}),(0,g.jsx)(f.ZP,{item:!0,xs:12,children:(0,g.jsx)(v.gN,{as:y.Z,fullWidth:!0,id:"email",name:"email",label:i("Email"),onChange:r,onBlur:o,error:!(!n.email||!t.email),helperText:n.email&&t.email?t.email:""})}),(0,g.jsxs)(f.ZP,{item:!0,xs:12,children:[(0,g.jsx)(N.Z,{variant:"contained",color:"secondary",type:"submit",disabled:l||Object.keys(t).length>0,children:i("Save")})," "]})]})})})}})})};var z=t(7047),B=t(3044);const I=()=>(0,g.jsxs)(s.Z,{children:[(0,g.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"start",alignItems:"top",mb:3},children:[(0,g.jsx)(z.Z,{variant:"circular",width:100,height:100,mt:3,children:(0,g.jsx)(B.Z,{})}),(0,g.jsx)(z.Z,{variant:"rectangular",width:300,height:30,sx:{mt:3,ml:2}})]}),(0,g.jsx)(s.Z,{sx:{mt:3,mb:3},children:(0,g.jsx)(z.Z,{variant:"rectangular",sx:{width:["300px","400px","600px"]},height:50})}),(0,g.jsx)(s.Z,{sx:{mt:3,mb:3},children:(0,g.jsx)(z.Z,{variant:"rectangular",sx:{width:["300px","400px","600px"]},height:200})})]});function T(e){const{children:a,value:t,index:n,...r}=e;return(0,g.jsx)(s.Z,{role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n),...r,children:t===n&&(0,g.jsx)(s.Z,{sx:{p:3},children:(0,g.jsx)(s.Z,{children:a})})})}function R(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function W(){const[e,a]=n.useState(!0),[t,r]=n.useState({}),{t:x}=(0,F.$G)(),[h,u]=n.useState(0);return n.useEffect((()=>{p.Z.get("token")&&(async()=>{try{const e=await m.Z.post("https://booking-bus.onrender.com/getUser/",{},{headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(p.Z.get("token"))}});r(e.data.result),a(!1)}catch(e){console.log(e)}})()}),[t.image]),(0,g.jsxs)(l.Z,{maxWidth:"md",children:[(0,g.jsx)(d.Z,{textAlign:"center",sx:{color:"main",py:3,width:["300px","500px"],margin:"auto"},children:(0,g.jsx)(c.Z,{label:" Acount Settings",sx:{backgroundColor:"main",color:"text.main",fontWeight:"200",fontSize:"1.2rem"}})}),e?(0,g.jsx)(I,{}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b,{name:"".concat(t.FName," ").concat(t.LName),oldImage:t.image}),(0,g.jsxs)(s.Z,{sx:{width:"100%"},children:[(0,g.jsx)(s.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,g.jsxs)(i.Z,{value:h,onChange:(e,a)=>{u(a)},"aria-label":"basic tabs example",children:[(0,g.jsx)(o.Z,{label:x("Edit"),...R(0)}),(0,g.jsx)(o.Z,{label:x("Edit Password"),...R(1)})]})}),(0,g.jsx)(T,{value:h,index:0,children:(0,g.jsx)(L,{oldInformation:t})}),(0,g.jsx)(T,{value:h,index:1,children:(0,g.jsx)(P,{})})]})]})]})}const A=t.p+"static/media/settings.dd597fab9e7e50d6d5d0.jpg",q=()=>(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(r.F,{page:"Settings",background:A}),(0,g.jsx)(W,{})]})}}]);
//# sourceMappingURL=18.f7e431c4.chunk.js.map